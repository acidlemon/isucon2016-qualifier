[mysqld_safe]
socket          = /var/run/mysqld/mysqld.sock
nice            = 0

[mysqld]
user            = mysql
pid-file        = /var/run/mysqld/mysqld.pid
socket          = /var/run/mysqld/mysqld.sock
port            = 3306
basedir         = /usr
datadir         = /var/lib/mysql
tmpdir          = /tmp
lc-messages-dir = /usr/share/mysql
skip-external-locking
bind-address            = 127.0.0.1
max_allowed_packet      = 16M
log_error = /var/log/mysql/error.log

long_query_time=0
slow_query_log_file=mysql-slow.log


#key_buffer = 32M
table_open_cache = 256
max_connections = 1024
max_connect_errors = 10000
sort_buffer_size = 1M
read_buffer_size = 1M
myisam_sort_buffer_size = 1M
#thread_cache = 256
query_cache_size = 0
query_cache_type = 0
tmp_table_size = 64M
max_heap_table_size = 64M
skip_name_resolve
character_set_server = utf8
default_storage_engine = InnoDB
explicit_defaults_for_timestamp
max_allowed_packet=16M

innodb_file_format=Barracuda

innodb_buffer_pool_size = 3G
innodb_buffer_pool_instances = 1 # 1 for small
innodb_write_io_threads = 8
innodb_read_io_threads = 8
innodb_io_capacity = 2000

